{
  "proposalId": "139995",
  "title": "Upgrade the Migration Canister to Commit 789e5a1",
  "summary": "# Upgrade the Migration Canister to Commit 789e5a1\n\n__Proposer__: stefan.schneider at dfinity.org\n\n__Source code__: [789e5a187985cedc654988f0f337467d6d5b3dcb][new-commit]\n\n[new-commit]: https://github.com/dfinity/ic/tree/789e5a187985cedc654988f0f337467d6d5b3dcb\n\n\n## Features & Fixes\n\nThis upgrade contains some minor changes to the API of the migration canister,\nbut most importantly, it updates the upgrade arguments.\n\nPreviously, only a single, DFINITY-internal principal was allowed to trigger\ncanister migrations. With this proposal, the allowlist is set to null, which\nmeans anybody is able to use the canister migration functionality. More detailed\nguides and howtos on canister migrations and its tooling inside dfx will follow,\nonce this proposal has been executed.\n\n\n## New Commits\n\n```\n$ git log --format=\"%C(auto) %h %s\" fe7d1fddfa516596e0bffcca5eeb086d3810cdee..789e5a187985cedc654988f0f337467d6d5b3dcb --  ./rs/migration_canister\n d828aca0f2 chore: doc comments for migration canister input fields (#8208)\n ba4ff007bb chore(migration-canister): refine migrated/replaced with \"canister\" and fix typos (#8059)\n 2054927449 chore(migration-canister): refine migrated/replaced with \"canister\" and fix typos in tests (#8058)\n 0b4563b527 chore: Remove outdated comment (#8060)\n```\n\n\n## Upgrade Arguments\n\n```candid\n(record {allowlist = null})\n```\n\n\n## Current Version\n\n__Current git hash__: fe7d1fddfa516596e0bffcca5eeb086d3810cdee\n\n__Current wasm hash__: baf5ecae2c260caa3705832a1dc280c31968b5eaf9e300377ca521f8e0e11787\n\n\n## Verification\n\nSee the general instructions on [how to verify] proposals like this. A \"quick\nstart\" guide is provided here.\n\n[how to verify]: https://github.com/dfinity/ic/tree/789e5a187985cedc654988f0f337467d6d5b3dcb/rs/nervous_system/docs/proposal_verification.md\n\n\n### WASM Verification\n\nSee [\"Building the code\"][prereqs] for prerequisites.\n\n[prereqs]: https://github.com/dfinity/ic/tree/789e5a187985cedc654988f0f337467d6d5b3dcb/README.adoc#building-the-code\n\n```\n# 1. Get a copy of the code.\ngit clone git@github.com:dfinity/ic.git\ncd ic\n# Or, if you already have a copy of the ic repo,\ngit fetch\ngit checkout 789e5a187985cedc654988f0f337467d6d5b3dcb\n\n# 2. Build canisters.\n./ci/container/build-ic.sh -c\n\n# 3. Fingerprint the result.\nsha256sum ./artifacts/canisters/migration-canister.wasm.gz\n```\n\nThis should match `wasm_module_hash` field of this proposal.\n\n\n### Upgrade Arguments Verification\n\n[`didc`][latest-didc] is required.\n\n[latest-didc]: https://github.com/dfinity/candid/releases/latest\n\n```\ndidc encode '(record {allowlist = null})' | xxd -r -p | sha256sum\n\n```\n\nThis should match the `arg_hash` field of this proposal.\n",
  "url": "",
  "commitHash": "789e5a187985cedc654988f0f337467d6d5b3dcb",
  "expectedWasmHash": "a7c87d163a0cc69f6a5e4ed11f9a99618bde8658d21e8d84207963bb2400347c",
  "canisterId": "sbzkb-zqaaa-aaaaa-aaaiq-cai"
}